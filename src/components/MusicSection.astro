---
// MusicPlayer.astro
// ID de la canción: Latin Mafia (Tu selección)
const spotifyTrackId = "157wPeRYJa2mHLl3DxQA3k"; 
---

<style>
    /* Animación de giro para el disco */
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    .vinyl-record {
        animation: spin 10s linear infinite;
        animation-play-state: paused; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    
    /* Gira al pasar el mouse */
    .vinyl-container:hover .vinyl-record {
        animation-play-state: running;
    }
    
    /* Brazo del tocadiscos */
    .tonearm {
        transform-origin: top right;
        transition: transform 0.5s ease;
        transform: rotate(-30deg);
    }
    .vinyl-container:hover .tonearm {
        transform: rotate(0deg); 
    }

    /* Estilo de Cristal */
    .glass-player {
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.9);
        box-shadow: 0 20px 40px -5px rgba(62, 39, 35, 0.2);
    }
</style>

<section class="scrolly-section py-24 bg-cream relative overflow-hidden flex items-center justify-center">
    
    <div class="absolute inset-0 pointer-events-none opacity-30">
        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-terracotta/20 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-0 left-0 w-[400px] h-[400px] bg-mocha/10 rounded-full blur-[80px]"></div>
    </div>

    <div class="container mx-auto px-6 relative z-10 flex flex-col md:flex-row items-center gap-12 max-w-5xl">
        
        <div class="w-full md:w-1/2 text-center md:text-left space-y-6">
            <span class="inline-block px-3 py-1 rounded-full bg-white border border-coffee/20 text-[10px] tracking-widest uppercase text-mocha font-bold">
                Soundtrack
            </span>
            <h2 class="font-serif text-5xl md:text-7xl text-coffee italic">
                Nuestra <br/> <span class="text-terracotta">Canción</span>
            </h2>
            <p class="text-mocha/90 text-lg font-light leading-relaxed">
                Hay melodías que nos transportan a ese momento exacto. 
                Esta canción suena y el mundo desaparece, solo quedamos tú y yo.
            </p>
            <div class="flex items-center justify-center md:justify-start gap-2 text-coffee/60 text-sm">
                <span class="material-symbols-outlined">headphones</span>
                <span>Dale play para recordar</span>
            </div>
        </div>

        <div class="w-full md:w-1/2 flex justify-center vinyl-container">
            <div class="glass-player p-6 rounded-[2rem] w-full max-w-sm relative">
                
                <div class="relative w-64 h-64 mx-auto mb-6">
                    <div class="tonearm absolute -top-4 -right-4 w-24 h-32 z-20 pointer-events-none">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Phonograph_tonearm.svg/1200px-Phonograph_tonearm.svg.png" 
                             class="w-full h-full object-contain drop-shadow-md grayscale opacity-80" 
                             style="filter: sepia(1) hue-rotate(-50deg) saturate(0.5);" />
                    </div>

                    <div class="vinyl-record w-full h-full rounded-full overflow-hidden border-4 border-black bg-black relative flex items-center justify-center">
                        <img src="https://i.scdn.co/image/ab67616d0000b273a9075727937537380902c658" 
                             class="w-full h-full object-cover opacity-80" 
                             alt="Album Cover" />
                        <div class="absolute w-20 h-20 bg-cream rounded-full border-2 border-white flex items-center justify-center">
                            <div class="w-3 h-3 bg-black rounded-full"></div>
                        </div>
                    </div>
                </div>

                <div class="rounded-xl overflow-hidden shadow-inner bg-white">
                    <iframe 
                        style="border-radius:12px" 
                        src={`https://open.spotify.com/embed/track/${spotifyTrackId}?utm_source=generator`} 
                        width="100%" 
                        height="152" 
                        frameborder="0" 
                        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                        loading="lazy">
                    </iframe>
                </div>

            </div>
        </div>

    </div>
</section>